<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# EventGrid System Topic Event Subscription Submodule

This submodule creates an EventGrid Event Subscription for a System Topic.

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9, < 2.0)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

## Resources

The following resources are used by this module:

- [azapi_resource.event_subscription](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_destination"></a> [destination](#input\_destination)

Description: The destination where events are delivered. Must include:
- `endpointType` - The type of endpoint (e.g., WebHook, EventHub, StorageQueue, ServiceBusQueue, ServiceBusTopic, AzureFunction, HybridConnection)
- `properties` - Properties specific to the endpoint type (e.g., resourceId for EventHub)

Type:

```hcl
object({
    endpointType = string
    properties   = any
  })
```

### <a name="input_name"></a> [name](#input\_name)

Description: The name of the event subscription.

Type: `string`

### <a name="input_system_topic_id"></a> [system\_topic\_id](#input\_system\_topic\_id)

Description: The resource ID of the parent EventGrid System Topic.

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_dead_letter_destination"></a> [dead\_letter\_destination](#input\_dead\_letter\_destination)

Description: Dead letter destination configuration:
- `endpointType` - Must be StorageBlobDeadLetter
- `properties` - Properties including resourceId and blobContainerName

Type:

```hcl
object({
    endpointType = string
    properties   = any
  })
```

Default: `null`

### <a name="input_dead_letter_with_resource_identity"></a> [dead\_letter\_with\_resource\_identity](#input\_dead\_letter\_with\_resource\_identity)

Description: Dead letter destination with managed identity configuration.

Type:

```hcl
object({
    identity = object({
      type                 = string
      userAssignedIdentity = optional(string)
    })
    deadLetterDestination = object({
      endpointType = string
      properties   = any
    })
  })
```

Default: `null`

### <a name="input_delivery_with_resource_identity"></a> [delivery\_with\_resource\_identity](#input\_delivery\_with\_resource\_identity)

Description: Delivery destination with managed identity configuration.

Type:

```hcl
object({
    identity = object({
      type                 = string
      userAssignedIdentity = optional(string)
    })
    destination = object({
      endpointType = string
      properties   = any
    })
  })
```

Default: `null`

### <a name="input_event_delivery_schema"></a> [event\_delivery\_schema](#input\_event\_delivery\_schema)

Description: The schema for event delivery. Possible values: EventGridSchema, CloudEventSchemaV1\_0, CustomInputSchema.

Type: `string`

Default: `"EventGridSchema"`

### <a name="input_expiration_time_utc"></a> [expiration\_time\_utc](#input\_expiration\_time\_utc)

Description: Expiration time for the event subscription in UTC (ISO 8601 format).

Type: `string`

Default: `null`

### <a name="input_filter"></a> [filter](#input\_filter)

Description: Event filtering options:
- `subjectBeginsWith` - Filter events based on subject prefix
- `subjectEndsWith` - Filter events based on subject suffix
- `includedEventTypes` - List of event types to include
- `isSubjectCaseSensitive` - Whether subject filtering is case sensitive
- `advancedFilters` - Advanced filtering conditions
- `enableAdvancedFilteringOnArrays` - Enable advanced filtering on arrays

Type:

```hcl
object({
    subjectBeginsWith               = optional(string)
    subjectEndsWith                 = optional(string)
    includedEventTypes              = optional(list(string))
    isSubjectCaseSensitive          = optional(bool, false)
    advancedFilters                 = optional(list(any), [])
    enableAdvancedFilteringOnArrays = optional(bool, false)
  })
```

Default: `{}`

### <a name="input_labels"></a> [labels](#input\_labels)

Description: List of user-defined labels for the event subscription.

Type: `list(string)`

Default: `[]`

### <a name="input_retry_policy"></a> [retry\_policy](#input\_retry\_policy)

Description: Retry policy for event delivery:
- `eventTimeToLiveInMinutes` - Time to live for events in minutes (default: 1440)
- `maxDeliveryAttempts` - Maximum delivery attempts (default: 30)

Type:

```hcl
object({
    eventTimeToLiveInMinutes = optional(number, 1440)
    maxDeliveryAttempts      = optional(number, 30)
  })
```

Default: `{}`

## Outputs

The following outputs are exported:

### <a name="output_name"></a> [name](#output\_name)

Description: The name of the EventGrid Event Subscription.

### <a name="output_resource"></a> [resource](#output\_resource)

Description: The EventGrid Event Subscription resource.

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: The resource ID of the EventGrid Event Subscription.

## Modules

No modules.

<!-- Add footer content here if needed -->
<!-- END_TF_DOCS -->